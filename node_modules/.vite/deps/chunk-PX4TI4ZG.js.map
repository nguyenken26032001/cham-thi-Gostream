{
  "version": 3,
  "sources": ["../../primevue/focustrap/focustrap.esm.js"],
  "sourcesContent": ["import { DomHandler, ObjectUtils } from 'primevue/utils';\n\nfunction bind(el, binding) {\n    const { onFocusIn, onFocusOut } = binding.value || {};\n\n    el.$_pfocustrap_mutationobserver = new MutationObserver((mutationList) => {\n        mutationList.forEach((mutation) => {\n            if (mutation.type === 'childList' && !el.contains(document.activeElement)) {\n                const findNextFocusableElement = (el) => {\n                    const focusableElement = DomHandler.isFocusableElement(el) ? el : DomHandler.getFirstFocusableElement(el);\n\n                    return ObjectUtils.isNotEmpty(focusableElement) ? focusableElement : findNextFocusableElement(el.nextSibling);\n                };\n\n                DomHandler.focus(findNextFocusableElement(mutation.nextSibling));\n            }\n        });\n    });\n\n    el.$_pfocustrap_mutationobserver.disconnect();\n    el.$_pfocustrap_mutationobserver.observe(el, {\n        childList: true\n    });\n\n    el.$_pfocustrap_focusinlistener = (event) => onFocusIn && onFocusIn(event);\n    el.$_pfocustrap_focusoutlistener = (event) => onFocusOut && onFocusOut(event);\n\n    el.addEventListener('focusin', el.$_pfocustrap_focusinlistener);\n    el.addEventListener('focusout', el.$_pfocustrap_focusoutlistener);\n}\n\nfunction unbind(el) {\n    el.$_pfocustrap_mutationobserver && el.$_pfocustrap_mutationobserver.disconnect();\n    el.$_pfocustrap_focusinlistener && el.removeEventListener('focusin', el.$_pfocustrap_focusinlistener) && (el.$_pfocustrap_focusinlistener = null);\n    el.$_pfocustrap_focusoutlistener && el.removeEventListener('focusout', el.$_pfocustrap_focusoutlistener) && (el.$_pfocustrap_focusoutlistener = null);\n}\n\nfunction autoFocus(el, binding) {\n    const { autoFocusSelector = '', firstFocusableSelector = '', autoFocus = false } = binding.value || {};\n    let focusableElement = DomHandler.getFirstFocusableElement(el, `[autofocus]:not(.p-hidden-focusable)${autoFocusSelector}`);\n\n    autoFocus && !focusableElement && (focusableElement = DomHandler.getFirstFocusableElement(el, `:not(.p-hidden-focusable)${firstFocusableSelector}`));\n    DomHandler.focus(focusableElement);\n}\n\nfunction onFirstHiddenElementFocus(event) {\n    const { currentTarget, relatedTarget } = event;\n    const focusableElement =\n        relatedTarget === currentTarget.$_pfocustrap_lasthiddenfocusableelement\n            ? DomHandler.getFirstFocusableElement(currentTarget.parentElement, `:not(.p-hidden-focusable)${currentTarget.$_pfocustrap_focusableselector}`)\n            : currentTarget.$_pfocustrap_lasthiddenfocusableelement;\n\n    DomHandler.focus(focusableElement);\n}\n\nfunction onLastHiddenElementFocus(event) {\n    const { currentTarget, relatedTarget } = event;\n    const focusableElement =\n        relatedTarget === currentTarget.$_pfocustrap_firsthiddenfocusableelement\n            ? DomHandler.getLastFocusableElement(currentTarget.parentElement, `:not(.p-hidden-focusable)${currentTarget.$_pfocustrap_focusableselector}`)\n            : currentTarget.$_pfocustrap_firsthiddenfocusableelement;\n\n    DomHandler.focus(focusableElement);\n}\n\nfunction createHiddenFocusableElements(el, binding) {\n    const { tabIndex = 0, firstFocusableSelector = '', lastFocusableSelector = '' } = binding.value || {};\n\n    const createFocusableElement = (onFocus) => {\n        const element = document.createElement('span');\n\n        element.classList = 'p-hidden-accessible p-hidden-focusable';\n        element.tabIndex = tabIndex;\n        element.setAttribute('aria-hidden', 'true');\n        element.setAttribute('role', 'presentation');\n        element.addEventListener('focus', onFocus);\n\n        return element;\n    };\n\n    const firstFocusableElement = createFocusableElement(onFirstHiddenElementFocus);\n    const lastFocusableElement = createFocusableElement(onLastHiddenElementFocus);\n\n    firstFocusableElement.$_pfocustrap_lasthiddenfocusableelement = lastFocusableElement;\n    firstFocusableElement.$_pfocustrap_focusableselector = firstFocusableSelector;\n\n    lastFocusableElement.$_pfocustrap_firsthiddenfocusableelement = firstFocusableElement;\n    lastFocusableElement.$_pfocustrap_focusableselector = lastFocusableSelector;\n\n    el.prepend(firstFocusableElement);\n    el.append(lastFocusableElement);\n}\n\nconst FocusTrap = {\n    mounted(el, binding) {\n        const { disabled } = binding.value || {};\n\n        if (!disabled) {\n            createHiddenFocusableElements(el, binding);\n            bind(el, binding);\n            autoFocus(el, binding);\n        }\n    },\n    updated(el, binding) {\n        const { disabled } = binding.value || {};\n\n        disabled && unbind(el);\n    },\n    unmounted(el) {\n        unbind(el);\n    }\n};\n\nexport { FocusTrap as default };\n"],
  "mappings": ";;;;;;AAEA,SAAS,KAAK,IAAI,SAAS;AACvB,QAAM,EAAE,WAAW,WAAW,IAAI,QAAQ,SAAS,CAAC;AAEpD,KAAG,gCAAgC,IAAI,iBAAiB,CAAC,iBAAiB;AACtE,iBAAa,QAAQ,CAAC,aAAa;AAC/B,UAAI,SAAS,SAAS,eAAe,CAAC,GAAG,SAAS,SAAS,aAAa,GAAG;AACvE,cAAM,2BAA2B,CAACA,QAAO;AACrC,gBAAM,mBAAmB,WAAW,mBAAmBA,GAAE,IAAIA,MAAK,WAAW,yBAAyBA,GAAE;AAExG,iBAAO,YAAY,WAAW,gBAAgB,IAAI,mBAAmB,yBAAyBA,IAAG,WAAW;AAAA,QAChH;AAEA,mBAAW,MAAM,yBAAyB,SAAS,WAAW,CAAC;AAAA,MACnE;AAAA,IACJ,CAAC;AAAA,EACL,CAAC;AAED,KAAG,8BAA8B,WAAW;AAC5C,KAAG,8BAA8B,QAAQ,IAAI;AAAA,IACzC,WAAW;AAAA,EACf,CAAC;AAED,KAAG,+BAA+B,CAAC,UAAU,aAAa,UAAU,KAAK;AACzE,KAAG,gCAAgC,CAAC,UAAU,cAAc,WAAW,KAAK;AAE5E,KAAG,iBAAiB,WAAW,GAAG,4BAA4B;AAC9D,KAAG,iBAAiB,YAAY,GAAG,6BAA6B;AACpE;AAEA,SAAS,OAAO,IAAI;AAChB,KAAG,iCAAiC,GAAG,8BAA8B,WAAW;AAChF,KAAG,gCAAgC,GAAG,oBAAoB,WAAW,GAAG,4BAA4B,MAAM,GAAG,+BAA+B;AAC5I,KAAG,iCAAiC,GAAG,oBAAoB,YAAY,GAAG,6BAA6B,MAAM,GAAG,gCAAgC;AACpJ;AAEA,SAAS,UAAU,IAAI,SAAS;AAC5B,QAAM,EAAE,oBAAoB,IAAI,yBAAyB,IAAI,WAAAC,aAAY,MAAM,IAAI,QAAQ,SAAS,CAAC;AACrG,MAAI,mBAAmB,WAAW,yBAAyB,IAAI,uCAAuC,mBAAmB;AAEzH,EAAAA,cAAa,CAAC,qBAAqB,mBAAmB,WAAW,yBAAyB,IAAI,4BAA4B,wBAAwB;AAClJ,aAAW,MAAM,gBAAgB;AACrC;AAEA,SAAS,0BAA0B,OAAO;AACtC,QAAM,EAAE,eAAe,cAAc,IAAI;AACzC,QAAM,mBACF,kBAAkB,cAAc,0CAC1B,WAAW,yBAAyB,cAAc,eAAe,4BAA4B,cAAc,gCAAgC,IAC3I,cAAc;AAExB,aAAW,MAAM,gBAAgB;AACrC;AAEA,SAAS,yBAAyB,OAAO;AACrC,QAAM,EAAE,eAAe,cAAc,IAAI;AACzC,QAAM,mBACF,kBAAkB,cAAc,2CAC1B,WAAW,wBAAwB,cAAc,eAAe,4BAA4B,cAAc,gCAAgC,IAC1I,cAAc;AAExB,aAAW,MAAM,gBAAgB;AACrC;AAEA,SAAS,8BAA8B,IAAI,SAAS;AAChD,QAAM,EAAE,WAAW,GAAG,yBAAyB,IAAI,wBAAwB,GAAG,IAAI,QAAQ,SAAS,CAAC;AAEpG,QAAM,yBAAyB,CAAC,YAAY;AACxC,UAAM,UAAU,SAAS,cAAc,MAAM;AAE7C,YAAQ,YAAY;AACpB,YAAQ,WAAW;AACnB,YAAQ,aAAa,eAAe,MAAM;AAC1C,YAAQ,aAAa,QAAQ,cAAc;AAC3C,YAAQ,iBAAiB,SAAS,OAAO;AAEzC,WAAO;AAAA,EACX;AAEA,QAAM,wBAAwB,uBAAuB,yBAAyB;AAC9E,QAAM,uBAAuB,uBAAuB,wBAAwB;AAE5E,wBAAsB,0CAA0C;AAChE,wBAAsB,iCAAiC;AAEvD,uBAAqB,2CAA2C;AAChE,uBAAqB,iCAAiC;AAEtD,KAAG,QAAQ,qBAAqB;AAChC,KAAG,OAAO,oBAAoB;AAClC;AAEA,IAAM,YAAY;AAAA,EACd,QAAQ,IAAI,SAAS;AACjB,UAAM,EAAE,SAAS,IAAI,QAAQ,SAAS,CAAC;AAEvC,QAAI,CAAC,UAAU;AACX,oCAA8B,IAAI,OAAO;AACzC,WAAK,IAAI,OAAO;AAChB,gBAAU,IAAI,OAAO;AAAA,IACzB;AAAA,EACJ;AAAA,EACA,QAAQ,IAAI,SAAS;AACjB,UAAM,EAAE,SAAS,IAAI,QAAQ,SAAS,CAAC;AAEvC,gBAAY,OAAO,EAAE;AAAA,EACzB;AAAA,EACA,UAAU,IAAI;AACV,WAAO,EAAE;AAAA,EACb;AACJ;",
  "names": ["el", "autoFocus"]
}
